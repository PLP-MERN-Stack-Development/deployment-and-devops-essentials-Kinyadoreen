{"ast":null,"code":"export class PerformanceMonitor {\n  constructor() {\n    this.metrics = {\n      pageLoads: [],\n      apiCalls: [],\n      errors: []\n    };\n  }\n\n  // Track page load performance\n  trackPageLoad() {\n    if (window.performance && window.performance.timing) {\n      const timing = window.performance.timing;\n      const loadTime = timing.loadEventEnd - timing.navigationStart;\n      const domReady = timing.domContentLoadedEventEnd - timing.navigationStart;\n      this.metrics.pageLoads.push({\n        url: window.location.pathname,\n        loadTime,\n        domReady,\n        timestamp: new Date().toISOString()\n      });\n\n      // Log slow page loads (> 3000ms)\n      if (loadTime > 3000) {\n        console.warn(`Slow page load detected: ${window.location.pathname} - ${loadTime}ms`);\n      }\n    }\n  }\n\n  // Track API call performance\n  trackAPICall(endpoint, duration, status) {\n    this.metrics.apiCalls.push({\n      endpoint,\n      duration,\n      status,\n      timestamp: new Date().toISOString()\n    });\n\n    // Log slow API calls (> 1000ms)\n    if (duration > 1000) {\n      console.warn(`Slow API call detected: ${endpoint} - ${duration}ms`);\n    }\n  }\n\n  // Track errors\n  trackError(error, context) {\n    this.metrics.errors.push({\n      message: error.message,\n      stack: error.stack,\n      context,\n      timestamp: new Date().toISOString()\n    });\n  }\n\n  // Get performance summary\n  getSummary() {\n    return {\n      pageLoads: {\n        count: this.metrics.pageLoads.length,\n        avgLoadTime: this.calculateAverage(this.metrics.pageLoads, 'loadTime'),\n        avgDomReady: this.calculateAverage(this.metrics.pageLoads, 'domReady')\n      },\n      apiCalls: {\n        count: this.metrics.apiCalls.length,\n        avgDuration: this.calculateAverage(this.metrics.apiCalls, 'duration'),\n        successRate: this.calculateSuccessRate()\n      },\n      errors: {\n        count: this.metrics.errors.length\n      }\n    };\n  }\n  calculateAverage(array, field) {\n    if (array.length === 0) return 0;\n    const sum = array.reduce((acc, item) => acc + item[field], 0);\n    return Math.round(sum / array.length);\n  }\n  calculateSuccessRate() {\n    if (this.metrics.apiCalls.length === 0) return 100;\n    const successful = this.metrics.apiCalls.filter(call => call.status >= 200 && call.status < 300).length;\n    return Math.round(successful / this.metrics.apiCalls.length * 100);\n  }\n}\nexport const performanceMonitor = new PerformanceMonitor();\n\n// Track page loads\nif (typeof window !== 'undefined') {\n  window.addEventListener('load', () => {\n    performanceMonitor.trackPageLoad();\n  });\n}","map":{"version":3,"names":["PerformanceMonitor","constructor","metrics","pageLoads","apiCalls","errors","trackPageLoad","window","performance","timing","loadTime","loadEventEnd","navigationStart","domReady","domContentLoadedEventEnd","push","url","location","pathname","timestamp","Date","toISOString","console","warn","trackAPICall","endpoint","duration","status","trackError","error","context","message","stack","getSummary","count","length","avgLoadTime","calculateAverage","avgDomReady","avgDuration","successRate","calculateSuccessRate","array","field","sum","reduce","acc","item","Math","round","successful","filter","call","performanceMonitor","addEventListener"],"sources":["C:/Users/ADMIN/Desktop/New folder/week7/deployment-and-devops-essentials-Kinyadoreen/frontend/src/utils/performanceMonitor.js"],"sourcesContent":["export class PerformanceMonitor {\r\n  constructor() {\r\n    this.metrics = {\r\n      pageLoads: [],\r\n      apiCalls: [],\r\n      errors: []\r\n    };\r\n  }\r\n  \r\n  // Track page load performance\r\n  trackPageLoad() {\r\n    if (window.performance && window.performance.timing) {\r\n      const timing = window.performance.timing;\r\n      const loadTime = timing.loadEventEnd - timing.navigationStart;\r\n      const domReady = timing.domContentLoadedEventEnd - timing.navigationStart;\r\n      \r\n      this.metrics.pageLoads.push({\r\n        url: window.location.pathname,\r\n        loadTime,\r\n        domReady,\r\n        timestamp: new Date().toISOString()\r\n      });\r\n      \r\n      // Log slow page loads (> 3000ms)\r\n      if (loadTime > 3000) {\r\n        console.warn(`Slow page load detected: ${window.location.pathname} - ${loadTime}ms`);\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Track API call performance\r\n  trackAPICall(endpoint, duration, status) {\r\n    this.metrics.apiCalls.push({\r\n      endpoint,\r\n      duration,\r\n      status,\r\n      timestamp: new Date().toISOString()\r\n    });\r\n    \r\n    // Log slow API calls (> 1000ms)\r\n    if (duration > 1000) {\r\n      console.warn(`Slow API call detected: ${endpoint} - ${duration}ms`);\r\n    }\r\n  }\r\n  \r\n  // Track errors\r\n  trackError(error, context) {\r\n    this.metrics.errors.push({\r\n      message: error.message,\r\n      stack: error.stack,\r\n      context,\r\n      timestamp: new Date().toISOString()\r\n    });\r\n  }\r\n  \r\n  // Get performance summary\r\n  getSummary() {\r\n    return {\r\n      pageLoads: {\r\n        count: this.metrics.pageLoads.length,\r\n        avgLoadTime: this.calculateAverage(this.metrics.pageLoads, 'loadTime'),\r\n        avgDomReady: this.calculateAverage(this.metrics.pageLoads, 'domReady')\r\n      },\r\n      apiCalls: {\r\n        count: this.metrics.apiCalls.length,\r\n        avgDuration: this.calculateAverage(this.metrics.apiCalls, 'duration'),\r\n        successRate: this.calculateSuccessRate()\r\n      },\r\n      errors: {\r\n        count: this.metrics.errors.length\r\n      }\r\n    };\r\n  }\r\n  \r\n  calculateAverage(array, field) {\r\n    if (array.length === 0) return 0;\r\n    const sum = array.reduce((acc, item) => acc + item[field], 0);\r\n    return Math.round(sum / array.length);\r\n  }\r\n  \r\n  calculateSuccessRate() {\r\n    if (this.metrics.apiCalls.length === 0) return 100;\r\n    const successful = this.metrics.apiCalls.filter(call => call.status >= 200 && call.status < 300).length;\r\n    return Math.round((successful / this.metrics.apiCalls.length) * 100);\r\n  }\r\n}\r\n\r\nexport const performanceMonitor = new PerformanceMonitor();\r\n\r\n// Track page loads\r\nif (typeof window !== 'undefined') {\r\n  window.addEventListener('load', () => {\r\n    performanceMonitor.trackPageLoad();\r\n  });\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}